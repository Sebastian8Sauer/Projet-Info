




















declare
fun {FlatPartition Partition}
   case Partition of H|T 
   then
      if {IsList H}
      then
	 if{IsExtendedChord H}
	 then H|{FlatPartition T}
	 else {ChordToExtended H}|{FlatPartition T}
	 end

      elseif {IsNote H}
      then {NoteToExtended H}|{FlatPartition T}
      
      elseif {IsExtendedNote H}
      then H|{FlatPartition T}

      else
	 case H of duration(seconds:X Part)
	 then {DurationChange X Part}|{FlatPartition T}
	 else false
	 end
      end
   []nil then nil
   else false
   end
end
